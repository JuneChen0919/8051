ORG 0000H
MOV R1,#11111110B
MOV R2,#01111111B

TEST:	ORL P3,#0FFH
		JNB P0.0,CASE1
		JNB P0.1,CASE2
		JNB P0.2,CASE3
		AJMP TEST

CASE1:	MOV A,R1
		RR A
		MOV P1,A
		ACALL DELAY
		MOV R1,A
		AJMP TEST
			
CASE2:	MOV A,R2
		RL A
		MOV P1,A
		ACALL DELAY
		MOV R2,A
		AJMP TEST
			
CASE3:	MOV P1,A
		AJMP TEST
			
DELAY:	MOV R4,#10

DL1:MOV R6,#250
DL2:MOV R7,#200
DL3:	DJNZ R7,DL3
		DJNZ R6,DL2
		DJNZ R5,DL1
		RET
		
		END